(this["webpackJsonpreact-jwt-auth"]=this["webpackJsonpreact-jwt-auth"]||[]).push([[0],{138:function(e,t,n){},224:function(e,t,n){},540:function(e,t,n){},541:function(e,t,n){},544:function(e,t,n){},545:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n(213),r=n.n(s),c=n(37),o=n(5),i=n(6),l=n(38),u=n(15),d=n(14),m=n(22),j=(n(223),n(224),n(225),n(17)),h=n.n(j),b="/api/auth/",g=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"login",value:function(e,t){return h.a.post(b+"signin",{username:e,password:t}).then((function(e){return e.data.accessToken&&(localStorage.setItem("user",JSON.stringify(e.data)),localStorage.setItem("userEmail",JSON.parse(JSON.stringify(e.data.email))),localStorage.setItem("username",JSON.parse(JSON.stringify(e.data.username)))),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user"),localStorage.removeItem("userEmail"),localStorage.removeItem("username"),localStorage.removeItem("password")}},{key:"register",value:function(e,t,n){return h.a.post(b+"signup",{username:e,email:t,password:n}).then((function(a){localStorage.setItem("userEmail",t),localStorage.setItem("username",e),localStorage.setItem("passwordSign",n)}))}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}},{key:"getCurrentUserEmail",value:function(){return localStorage.getItem("userEmail")}},{key:"getCurrentEmailSignup",value:function(){return localStorage.getItem("emailSign")}},{key:"getCurrentUsernameSignup",value:function(){return localStorage.getItem("usernameSign")}},{key:"getCurrentPasswordSignup",value:function(){return localStorage.getItem("passwordSign")}},{key:"getCurrentUsername",value:function(){return localStorage.getItem("username")}},{key:"getCurrentUserPassword",value:function(){return localStorage.getItem("password")}}]),e}()),p=n(105),O=n.n(p),v=n(66),f=n.n(v),x=n(106),y=n.n(x),k=n(0),N=function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},C=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleLogin=a.handleLogin.bind(Object(l.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(l.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(l.a)(a)),a.state={username:"",password:"",loading:!1,message:""},a}return Object(i.a)(n,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleLogin",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0===this.checkBtn.context._errors.length?g.login(this.state.username,this.state.password).then((function(){t.props.history.push("/profile"),window.location.reload()}),(function(e){var n=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:n})})):this.setState({loading:!1})}},{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsxs)("div",{className:"card card-container",children:[Object(k.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(k.jsxs)(O.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)(f.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[N]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)(f.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[N]})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsxs)("button",{className:"btn btn-primary btn-block",disabled:this.state.loading,children:[this.state.loading&&Object(k.jsx)("span",{className:"spinner-border spinner-border-sm"}),Object(k.jsx)("span",{children:"Login"})]})}),this.state.message&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(k.jsx)(y.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),n}(a.Component),S=n(214),w=function(e){if(!e)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},U=function(e){if(!Object(S.isEmail)(e))return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email."})},B=function(e){if(e.length<3||e.length>20)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},I=function(e){if(e.length<6||e.length>40)return Object(k.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},F=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handleRegister=a.handleRegister.bind(Object(l.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(l.a)(a)),a.onChangeEmail=a.onChangeEmail.bind(Object(l.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(l.a)(a)),a.state={username:"",email:"",password:"",successful:!1,redirect:!1},a}return Object(i.a)(n,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangeEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({redirect:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&g.register(this.state.username,this.state.email,this.state.password).then((function(){t.setState({redirect:!0})}))}},{key:"render",value:function(){var e=this;return this.state.redirect?Object(k.jsx)(m.a,{to:"/onboarding"}):Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsxs)("div",{className:"card card-container",children:[Object(k.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(k.jsxs)(O.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"username",children:"Username"}),Object(k.jsx)(f.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[w,B]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"email",children:"Email"}),Object(k.jsx)(f.a,{type:"text",className:"form-control",name:"email",value:this.state.email,onChange:this.onChangeEmail,validations:[w,U]})]}),Object(k.jsxs)("div",{className:"form-group",children:[Object(k.jsx)("label",{htmlFor:"password",children:"Password"}),Object(k.jsx)(f.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[w,I]})]}),Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})})]}),this.state.message&&Object(k.jsx)("div",{className:"form-group",children:Object(k.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message})}),Object(k.jsx)(y.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),n}(a.Component),E=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getAllCompositions",value:function(){return h.a.get("/api/compositions/all")}},{key:"getSortedCompositions",value:function(){return h.a.get("/api/compositions/sorted")}},{key:"getCompositionByUsername",value:function(e){return h.a.get("/api/compositions/get",{params:{name:e}})}}]),e}()),A=(n(540),function(e){return Object(k.jsxs)("div",{className:"card-container",onClick:function(){localStorage.setItem("composition",e.composition.name),window.location.assign("http://localhost:8081/cardDetails")},children:[Object(k.jsx)("img",{className:"card-img",height:220,width:150,alt:"image",src:e.composition.image}),Object(k.jsx)("h4",{className:"card-title",children:e.composition.name})]})}),_=(n(541),function(e){return Object(k.jsx)("div",{className:"card-list",children:e.content.map((function(e){return Object(k.jsx)(A,{composition:e})}))})}),M=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={content:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=E.getAllCompositions().then((function(t){e.setState({content:t.data})}));console.log(t)}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)(_,{content:this.state.content})})}}]),n}(a.Component),D=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getUserCompositions",value:function(e){return h.a.get("/api/user/compositions/all",{params:{name:e}})}},{key:"createComposition",value:function(e,t){return h.a.post("/api/user/compositions/create",t,{params:{name:e}})}},{key:"deleteComposition",value:function(e,t){return h.a.delete("/api/user/compositions/delete",{params:{name:e,composition_name:t}})}}]),e}()),P=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getAllFandoms",value:function(){return h.a.get("/api/fandoms/all")}},{key:"fillUserFandomsByEmail",value:function(e,t){return h.a.post("/api/fandoms/fill",t,{params:{email:e}})}},{key:"getAllUserFandoms",value:function(e){return h.a.get("/api/fandoms/user/all",{params:{name:e}})}}]),e}()),J=(n(138),n(547)),L=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={redirect:null,currentUser:{username:""},userCompositions:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=g.getCurrentUser();D.getUserCompositions(g.getCurrentUsername()).then((function(t){e.setState({userCompositions:t.data})}));t||this.setState({redirect:"/home"}),this.setState({currentUser:t})}},{key:"render",value:function(){if(this.state.redirect)return Object(k.jsx)(m.a,{to:this.state.redirect});var e=this.state.currentUser;return Object(k.jsx)("div",{className:"container",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("header",{className:"jumbotron",children:[Object(k.jsxs)("h3",{children:[Object(k.jsx)("strong",{children:e.username})," \u043f\u0440\u043e\u0444\u0438\u043b\u044c"]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)(J.a,{type:"submit",onClick:function(){window.location.assign("http://localhost:8081/userFandoms")},children:"\u041c\u043e\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f"}),Object(k.jsx)(J.a,{onClick:function(){window.location.assign("http://localhost:8081/userFavorites")},children:"\u041c\u043e\u0438 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"})]})]}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"my_compositions_header",children:[Object(k.jsx)("h4",{children:Object(k.jsx)("strong",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f"})}),Object(k.jsx)(J.a,{onClick:function(){window.location.assign("http://localhost:8081/newCard")},children:"+"})]}),Object(k.jsx)(_,{content:this.state.userCompositions})]})})}}]),n}(a.Component);function T(){var e=JSON.parse(localStorage.getItem());return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var z=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getPublicContent",value:function(){return h.a.get("/api/test/all")}},{key:"getUserBoard",value:function(){return h.a.get("/api/test/user",{headers:T()})}},{key:"getModeratorBoard",value:function(){return h.a.get("/api/test/mod",{headers:T()})}},{key:"getAdminBoard",value:function(){return h.a.get("/api/test/admin",{headers:T()})}}]),e}()),R=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={content:""},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;z.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("header",{className:"jumbotron",children:Object(k.jsx)("h3",{children:this.state.content})})})}}]),n}(a.Component),q=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={content:""},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;z.getModeratorBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("header",{className:"jumbotron",children:Object(k.jsx)("h3",{children:this.state.content})})})}}]),n}(a.Component),W=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={content:""},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;z.getAdminBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(k.jsx)("div",{className:"container",children:Object(k.jsx)("header",{className:"jumbotron",children:Object(k.jsx)("h3",{children:this.state.content})})})}}]),n}(a.Component),$=n(546),G=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={length:null,content:[],checkedState:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=P.getAllFandoms().then((function(t){e.setState({content:t.data}),e.setState(e.state.checkedState=new Array(t.data.length).fill(!1))}));console.log(t)}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("header",{className:"jumbotron",children:Object(k.jsx)("h2",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u044d\u043d\u0434\u043e\u043c\u044b"})}),this.state.content.map((function(t,n){return Object(k.jsxs)("div",{className:"toppings-list-item",children:[Object(k.jsx)($.a,{checked:e.state.checkedState[n],onChange:function(){!function(t){var n=e.state.checkedState.map((function(e,n){return n===t?!e:e}));e.setState(e.state.checkedState=n)}(n),console.log(e.state.checkedState),console.log(g.getCurrentUserEmail())}}),Object(k.jsx)("img",{width:"450px",height:"200px",src:t.image}),Object(k.jsx)("h4",{children:t.name})]})})),Object(k.jsx)("br",{}),Object(k.jsx)(J.a,{type:"submit",onClick:function(t){for(var n=[],a=0;a<e.state.content.length;a++)!0===e.state.checkedState[a]&&n.push(e.state.content[a]);console.log(n),P.fillUserFandomsByEmail(g.getCurrentUserEmail(),n).then((function(e){console.log("Filled fandoms")})),g.login(g.getCurrentUsername(),g.getCurrentPasswordSignup()).then((function(){window.location.assign("http://localhost:8081/home")}))},children:"Submit"})]})}}]),n}(a.Component),H=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"addNewFavoriteByName",value:function(e,t){return h.a.post("/api/favorites/add",null,{params:{username:e,compositionName:t}})}},{key:"getAllFavoritesByName",value:function(e){return h.a.get("/api/favorites/all",{params:{name:e}})}}]),e}()),K=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={content:[],currentUser:void 0},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=g.getCurrentUser();t&&this.setState({currentUser:t}),E.getCompositionByUsername(localStorage.getItem("composition")).then((function(t){e.setState({content:t.data})}))}},{key:"render",value:function(){var e=this.state.currentUser;return Object(k.jsxs)("div",{className:"container jumbotron",children:[Object(k.jsx)("h2",{children:this.state.content.name}),Object(k.jsx)("img",{src:this.state.content.image,width:350,height:350,align:"center"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h4",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"}),Object(k.jsx)("h5",{children:this.state.content.description}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"list-inline",children:[Object(k.jsx)(J.a,{type:"submit",onClick:function(){window.location.assign("http://localhost:8081/chapter")},children:"\u0427\u0438\u0442\u0430\u0442\u044c"}),e?Object(k.jsx)(J.a,{onClick:function(){H.addNewFavoriteByName(g.getCurrentUsername(),localStorage.getItem("composition")).then((function(e){window.location.assign("http://localhost:8081/home")}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0435"}):Object(k.jsx)("div",{}),e?Object(k.jsx)(J.a,{onClick:function(){D.deleteComposition(g.getCurrentUsername(),localStorage.getItem("composition")).then((function(e){window.location.assign("http://localhost:8081/home")}))},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435"}):Object(k.jsx)("div",{})]})]})}}]),n}(a.Component),Q="/api/compositions/chapters",V=new(function(){function e(){Object(o.a)(this,e)}return Object(i.a)(e,[{key:"getAllChaptersByCompositionName",value:function(e){return h.a.get(Q+"/all",{params:{name:e}})}},{key:"createChapterByName",value:function(e,t){return h.a.post(Q+"/create",t,{params:{name:e}})}}]),e}()),X=(n(544),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={content:[],chapterName:"",chapterContent:""},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;V.getAllChaptersByCompositionName(localStorage.getItem("composition")).then((function(t){e.setState({content:t.data}),e.setState({chapterName:t.data[0].name}),e.setState({chapterContent:t.data[0].content}),console.log(t.data)}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"container jumbotron",children:[Object(k.jsx)("div",{children:this.state.content.map((function(t,n){return Object(k.jsx)("div",{className:"inline-list",children:Object(k.jsx)("ul",{children:Object(k.jsx)("li",{children:Object(k.jsx)("a",{onClick:function(){for(var t=0;t<e.state.content.length;t++)e.setState({chapterName:e.state.content[n].name}),e.setState({chapterContent:e.state.content[n].content})},children:n+1})})},n)})}))}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h3",{children:this.state.chapterName}),Object(k.jsx)("p",{children:this.state.chapterContent})]})]})}}]),n}(a.Component)),Y=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={image:"",setImage:"",url:"",setUrl:"",fandoms:[]},a}return Object(i.a)(n,[{key:"render",value:function(){return Object(k.jsxs)("div",{className:"input",children:[Object(k.jsx)("h1",{children:Object(k.jsx)("strong",{children:"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0433\u043b\u0430\u0432\u044b"})}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h4",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043b\u0430\u0432\u044b"}),Object(k.jsx)("input",{id:"chapter_name",type:"text",style:{padding:6},size:"50"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h4",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0433\u043b\u0430\u0432\u044b"}),Object(k.jsx)("input",{id:"chapter_content",type:"text",style:{padding:100},size:"100"}),Object(k.jsx)(J.a,{onClick:function(){var e={name:document.getElementById("chapter_name").value,content:document.getElementById("chapter_content").value};V.createChapterByName(localStorage.getItem("composition"),JSON.parse(JSON.stringify(e))).then((function(e){window.location.assign("http://localhost:8081/chapter")}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043b\u0430\u0432\u0443"})]})}}]),n}(a.Component),Z=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={userFandoms:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;P.getAllUserFandoms(g.getCurrentUsername()).then((function(t){e.setState({userFandoms:t.data})}))}},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h2",{children:"\u041c\u043e\u0438 \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f"}),this.state.userFandoms.map((function(e){return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("img",{width:"450px",height:"200px",src:e.image}),Object(k.jsx)("h4",{children:e.name})]})})),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(J.a,{onClick:function(){window.location.assign("http://localhost:8081/onboarding")},children:"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0435\u043d\u0438\u044f"})]})}}]),n}(a.Component),ee=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={userFavorites:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;H.getAllFavoritesByName(g.getCurrentUsername()).then((function(t){e.setState({userFavorites:t.data})}))}},{key:"render",value:function(){return Object(k.jsxs)("div",{className:"container",children:[Object(k.jsx)("h2",{children:"\u041c\u043e\u0438 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"}),Object(k.jsx)(_,{content:this.state.userFavorites})]})}}]),n}(a.Component);n(107),n(217),n(218);var te=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).handlePic=function(e){var t=e.target.files[0];console.log(e.target.files[0]),a.setState({image:t})},a.state={image:"",setImage:"",url:"",setUrl:"",fandoms:[]},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;P.getAllFandoms().then((function(t){e.setState({fandoms:t.data})}))}},{key:"render",value:function(){var e=this;return Object(k.jsxs)("div",{className:"input",children:[Object(k.jsx)("h4",{children:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(k.jsx)("input",{type:"file",onChange:this.handlePic}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h4",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f"}),Object(k.jsx)("input",{id:"composition_name",type:"text",style:{padding:6},size:"50"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("h4",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u044f"}),Object(k.jsx)("input",{id:"composition_description",type:"text",style:{padding:30},size:"70"}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)("select",{size:"1",id:"select",children:this.state.fandoms.map((function(e,t){return Object(k.jsx)("option",{value:e.name,children:e.name},t)}))}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(J.a,{onClick:function(){var t=new FormData;t.append("file",e.state.image),t.append("cloud_name","dnwbktk0z"),t.append("upload_preset","fp9a0chb"),h.a.post("https://api.cloudinary.com/v1_1/dnwbktk0z/upload",t).then((function(e){localStorage.setItem("image",e.data.url)})),console.log(localStorage.getItem("image"));var n={name:document.getElementById("composition_name").value,description:document.getElementById("composition_description").value,image:localStorage.getItem("image"),fandom:document.getElementById("select").value};D.createComposition(g.getCurrentUsername(),JSON.parse(JSON.stringify(n))).then((function(e){localStorage.setItem("composition",document.getElementById("composition_name").value),window.location.assign("http://localhost:8081/createChapter")}))},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0434\u0435\u043d\u0438\u0435"})]})}}]),n}(a.Component),ne=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).logOut=a.logOut.bind(Object(l.a)(a)),a.state={showModeratorBoard:!1,showAdminBoard:!1,currentUser:void 0},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=g.getCurrentUser();e&&this.setState({currentUser:e,showModeratorBoard:e.roles.includes("ROLE_MODERATOR"),showAdminBoard:e.roles.includes("ROLE_ADMIN")})}},{key:"logOut",value:function(){g.logout()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,n=e.showModeratorBoard,a=e.showAdminBoard;return Object(k.jsxs)("div",{children:[Object(k.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(k.jsx)(c.b,{to:"/",className:"navbar-brand",children:"Fanfics"}),Object(k.jsxs)("div",{className:"navbar-nav mr-auto",children:[n&&Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(c.b,{to:"/mod",className:"nav-link",children:"Moderator Board"})}),a&&Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(c.b,{to:"/admin",className:"nav-link",children:"Admin Board"})}),t&&Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(c.b,{to:"/user",className:"nav-link",children:"User"})})]}),t?Object(k.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(c.b,{to:"/profile",className:"nav-link",children:t.username})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)("a",{href:"/login",className:"nav-link",onClick:this.logOut,children:"LogOut"})})]}):Object(k.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(c.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(k.jsx)("li",{className:"nav-item",children:Object(k.jsx)(c.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(k.jsx)("div",{className:"container mt-3",children:Object(k.jsxs)(m.d,{children:[Object(k.jsx)(m.b,{exact:!0,path:["/","/home"],component:M}),Object(k.jsx)(m.b,{exact:!0,path:"/login",component:C}),Object(k.jsx)(m.b,{exact:!0,path:"/register",component:F}),Object(k.jsx)(m.b,{exact:!0,path:"/profile",component:L}),Object(k.jsx)(m.b,{path:"/user",component:R}),Object(k.jsx)(m.b,{path:"/mod",component:q}),Object(k.jsx)(m.b,{path:"/admin",component:W}),Object(k.jsx)(m.b,{path:"/onboarding",component:G}),Object(k.jsx)(m.b,{path:"/cardDetails",component:K}),Object(k.jsx)(m.b,{path:"/chapter",component:X}),Object(k.jsx)(m.b,{path:"/userFandoms",component:Z}),Object(k.jsx)(m.b,{path:"/userFavorites",component:ee}),Object(k.jsx)(m.b,{path:"/newCard",component:te}),Object(k.jsx)(m.b,{path:"/createChapter",component:Y})]})})]})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(k.jsx)(c.a,{children:Object(k.jsx)(ne,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[545,1,2]]]);
//# sourceMappingURL=main.ea536fc6.chunk.js.map